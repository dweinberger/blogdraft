<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
	<meta http-equiv="Content-Type" content="text/html">
	<title>Blogdraft</title>
	<link rel="icon" type="image/jpg" href="favicon.png">
	<script type="text/javascript" src="includes/jquery-2.1.4.min.js"></script>
	<script type="text/javascript" src="includes/jquery-ui-1.11.4.custom/jquery-ui.min.js"></script>
	<script type="text/javascript" src="includes/textarea-helper.js"></script>
	<script type="text/javascript" src="includes/jquery.pulse.js"></script>
	<script type="text/javascript" src="includes/json2.min.js"></script>
	<script type="text/javascript" src="includes/Markdown.Converter.js"></script>
	<script type="text/javascript" src="js/blogdraft.js"></script>
	<link href="http://fonts.googleapis.com/css?family=Lora:400,400italic" rel="stylesheet" type="text/css">
	<link type="text/css" rel="stylesheet" href="css/blogdraft.css">
	
	<!-- ========= script ==== -->
	<script language="javascript" type="text/javascript">

	$(document).ready(function(){
	
		init();
 
	 });

	</script> 
</head>
<body>

 <div id="loading" style="display: none"></div>
  <div id="insertme" class="tool"  style="display:none;"></div>
  <!-- GOOGLE SEARCH RESULTS -->
        <div id="googlediv" style="display:none">
       
          <!-- GOOGLE SEARCH BOX -->
          <script>
				(function() {
				  var cx = '007117154255002665735:enanyjbed1o';
				  var gcse = document.createElement('script'); gcse.type = 'text/javascript';
				  gcse.async = true;
				  gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
					  '//www.google.com/cse/cse.js?cx=' + cx;
				  var s = document.getElementsByTagName('script')[0];
				  s.parentNode.insertBefore(gcse, s);
				  })();
			</script> 
			<gcse:search></gcse:search> <!-- required for google search box -->
			
          <div id="resultsdiv"> </div>
        </div> 
     <div id="wikipediadiv" style="display:none">
     	<div id="wpresultsdiv"></div>
     </div>
     
     
    <div id="container">
    
		<!-- Horizontal button bar -->
		 <div id="fixedtop">
         
			<!----= POST TITLE ----> 
			<div id="topbox">
				<a name="titlebox"></a><textarea id="posttitle" placeholder="title goes here"></textarea>
				
				<!--span id="tinykeystrokectr"-->
					<div id="greenlightspan">
						<img src="./images/greenlight.png"  id="saveLight">
					</div>
					<div id="redcirclespan">
						&nbsp;&nbsp;&nbsp;&nbsp;
					</div>
				<!--/span -->
				<span id="blogdrafttitle">Blogdraft <span id="creditspan">by D. Weinberger</span> <span id="revdatespan" name="revdatespan"
				class="revdate">date</span>
				</span>

				<div id="buttonbar">   

					<span class="tool" onclick="toolselect('boldme')"><b>B</b></span>
					<span class="tool" onclick="toolselect('italme')"><em>I</em></span>
					<span class="tool" onclick="toolselect('underme')"><u>U</u></span> <span
					  class="tool"
					  onclick="toolselect('linkme')">Link</span>
					<span class="tool" onclick="twitLink()">TwitLink</span> <span class="tool"
					  onclick="toolselect('indentme')">Block</span>
					<span class="tool" onclick="toolselect('lineme')">hr</span> <span class="tool"
					  onclick="addTagFromText();">tag</span>
					<span class="tool" onclick="toolselect('brme')">br</span> <span class="tool"
					  onclick="toolselect('pme')">P</span>
					<!--input onclick="linkInit();" value="Link It" type="button"--> 
					<span class="tool bright" onclick="htmlize();">htmlize</span>
					<span class="tool" onclick="saveFile();">Save</span>
					<span class="tool bright" onclick="searchGoogle();">Google</span>
					 <span class="tool" onclick="wikipedize()">Wikipdize</span>
					<!--input type="button" id="postbtn" onclick="showiframe('post')"  class='smallbutton' value="Blog it" style="display: hide";-->
					<span class="tool minorbutton" onclick="saveDraft();">Draft</span>
					<!-- <input type="button" onclick="readDraftDir();" value="Get Drafts"> -->



					<!--input onclick="clearall();" class="minorbutton" value="Clear" type="button"-->  
  
					<span class="tool" onclick="ShowHideDiv('postdiv');">Post it</span>
					<span class="tool smallbutton" onclick="updatehtml()">Update</span>
					<span class="tool tinybutton" id="resizewysibtn" onclick="resizeWysiDisplay(-1)">Quick resize</span>
					<span class="tool minorbutton" onclick='$("#sizingbardiv").fadeIn(300)'>Resize</span> 
					<span class="tool minorbutton" onclick="ShowHideWysi(); "> Show/Hide"</span>
					  <span class="tool minorbutton" id="resizetextspan" onclick="resizeTextArea2()">Edit
					  Area+</span>


					<!--form method="post" name="wysiform" id="wysiform"-->


					</div> <!-- buttonbar -->
				</div>
         <div class="clear"></div>
    
		</div> <!-- fixed topbox -->
	
       <div class="clear"><br><p>&nbsp;</p></div>
        
        <!-- EDIT AREA --->
        <div id="editareawrapper">
           <!-- Sizing bar -->
            <div id="sizingbardiv" width="100%" height="100px" style="background:#078AC5; display:none; color:white; font-family:Geneva,Arial;"
              onclick="captureMousePosition(event)">
              Click to set size of wysiwyg display </div>
        <!-- <div id="editareawrapper"> -->

          <!-- Editing Area -->
          <div id="edcell" onresize="resizeTextArea()">
            <textarea name="ed" id="ed" class="edstyle" style="opacity: 0">&lt;p&gt;</textarea>
          </div>
          <!-- Preview Area -->
          <div id="html">
            <!-- 
<table style="table-layout:fixed;" height="100%" border="0" width="100%">
              <tbody>
                <tr height="400px">
                  <td height="400px" valign="top">
                  <div id="updatebox"> </div>
     
                  </td>
                </tr>
              </tbody>
            </table>
 -->
 <div id="updatebox"> </div>
          </div>
         </div>
    
   
      <!------ END EDIT AREA ------->
      <div style="clear:both"></div>
    
	
	
	<!-- AREA BUTTONS --> 
       <input type="button" value="Callout" onclick="insertCallout()">
      <input class="smallbutton" name="hideimagediv" onclick="ShowHideDiv('imagediv');"
        value="images"
        placename="imagespot"
        type="button">
    <input type="button" value="Pulse" onclick="pulse('saveLight')">
      <input class="smallbutton" name="hidewrapdiv" onclick="ShowHideDiv('wrapdiv');"
        value="HTML Wrapper"
        placename="wrapspot"
        type="button">
     <input class="button" name="search" onclick="ShowHideDiv('searchdiv');"
        value="Search & Replace"
        placename="searchspot"
        type="button">
      <input class="smallbutton" name="hidetablediv" onclick="ShowHideDiv('tablediv');"
        value="Tables"
        placename="tablespot"
        type="button">
      
    <input onclick="removeReturns();" class="minorbutton" value="Remove CRs" type="button">
	<input onclick="loadSaveFile();" class="minorbutton" value="Load Saved File" type="button">
	<input onclick="insertEmail();" class="minorbutton" value="Email Add." type="button">
      <input class="smallbutton" name="importsave" onclick="ShowHideDiv('importsave');"
        value="Restore Saved File"
        placename="savedfilespot"
        type="button">
      <input class="smallbutton" name="hidemacroexpanddiv" onclick="ShowHideDiv('macroexpanddiv');"
        value="MacroExpand"
        placename="macroexpandspot"
        type="button">
    <input class="smallbutton" value="Help" name="helppanel" onclick="ShowHideDiv('helpdiv');">
    </div>
	
	<!-- Prefs -->
	<span class="tinylinks"> 
	<input type="button" value="aA" title="Increase font size" onclick="changeFont('+')">  
	<input type="button" value="Aa" title="Increase font size" onclick="changeFont('-')"> 
	<input  id="synchroscroll"  checked="checked"  type="checkbox"> Sync scroll
	<input  id="synchrofont"  type="checkbox" title="wysi font = edit font"> Sync Font
	<input id="imageplaceholder" type="checkbox" title="Show placeholder in wysi box"> Placeholder img
	<input value="false" id="autosavecheck"  checked="checked"  type="checkbox"> Auto save      
	<input id="createps" checked="checked" type="checkbox"> Auto-insert &lt;p&gt;
	<input id="autoupdatehtmlcheck" checked="checked"  type="checkbox">  Auto-update Preview  
	<!-- Edit Auto links in separate window -->
	<a href="autolinkconfig.html" target="_blank” class="tags" title="Edit auto links and favorites in new window">Edit autolinks</a> 
    
        
          Auto save: <input value="false" id="autoexpandcheck" checked="checked"
            type="checkbox">
          Auto expansions: <input value="false" id="includetagscheck" checked="checked"
            type="checkbox">
          Include tags </span>
        <!-- KEYSTROKE COUNTER --> 
        <!--span id="keystrokecounterclass">
        `	<span id="keystrokescounter">100</span>
          	 until next save</span -->
      
      
      <!-- SYMBOLS -->
      <div id="bottomcontrols">
      <span id="symbolsspan"> 
      </span>
      
        <!-- COLOR PICKER --> 
        &nbsp;<span class="tool cpicker" onclick="openColorPicker()"><b>
            &nbsp;Color Picker</b><span id="chosencolor"></span></span><span id="colorpicker"><span>
          </span></span></p>
      
      <!-- LINKS -->
      <div id="LinkBlock">
        <a name="linksspot"></a>
        <input type="button" value="Close" onclick="$('#LinkBlock').fadeOut(300);">
          <div id="favoritelinkdiv"> <span id="favoritelinkid"></span> </div>
          <div id="OldLink" class="oldlinkclass"> </div>
          <div id="ConstructedLinks" class="constructedlinksclass" >
          </div>
          <a name="linklink"></a>
          <form id="addlinkform" style="display:block"> <textarea id="linkarea" rows="1" cols="60" class="submitOnEnter"
              ondblclick="clearlink();"></textarea>
            <input onclick="createLinkDW();" value="Add Link" class="tool"
              type="button">
            <input onclick="clearlink();" value="Clear" class="smallbutton" type="button"><br>
            <input onclick="addhttp('http');" value="http" class="smallbutton" type="button">
            <input onclick="addhttp('www');" value="www" class="smallbutton" type="button">
            <input onclick="addhttp('http://www');" value="http://www" class="smallbutton"
              type="button">
            <input onclick="addTDL('com');" value="com" class="smallbutton" type="button">
            <input onclick="addTDL('org');" value="org" class="smallbutton" type="button">
            <input onclick="addTDL('edu');" value="edu" class="smallbutton" type="button">
            <input onclick="addTDL('gov');" value="gov" class="smallbutton" type="button">
            <input onclick="addTDL('net');" value="net" class="smallbutton" type="button">
            <input value="false" id="favoriteanchorcheck" type="checkbox"> <span
              class="white smalllabel">Save as favorite:</span> <textarea id="favoriteanchortext" style="border: 0; overflow: hidden; width: 150px; height: 15px;"></textarea>
            <span class="white smalllabel">Auto-insert the link (single words only):</span>
            <input value="false" id="favoriteanchorautocompcheck" onclick="toggleFavoriteCheck();"
              type="checkbox"><br>
            <span class="white smalllabel" id="addTwitterLinkSpan"> 
            <span class="white smalllabel">Insert twitlink:</span> <textarea id="twitterLinkTxt" style="border: 0; overflow: hidden; width: 150px; height: 15px;"></textarea>
              <input onclick="insertTwitterLink()" value="Insert Twit" type="button">
            </span> </form>
      </div>
      <!-- TAGS -->
     
      <div id="tagdiv" class="tagdiv"> <input class="smallbutton"
          name="fewertags"
          onclick="redrawTagCloud(1);"
          value="-tags"
          type="button">
        <input class="smallbutton" name="moretags" onclick="redrawTagCloud(-1);"
          value="+tags"
          type="button">
        <div id="tags"> <a name="tagsspot"></a>
          <form id="tagsform"> <textarea id="tagstextarea" rows="1" cols="80"></textarea>
            <textarea id="tagsautosuggestarea" rows="1" cols="20" class="tagsautosuggestareaclass"></textarea>
            <input onclick="insertTags();" value="Insert" type="button"> 
            <input onclick="cleartags();" value="Clear" type="button"> <input id="autocompletecheckbox"
              checked="checked"
              class="tinylinks"
              type="checkbox">Autocomplete
            </form>
         <!-- 
 <div id="tagclouddiv">
            <p>Tag cloud</p>
          </div>
 -->
        </div>
      </div>
      <!-- READ SAVES -->
      <div id="savedfilediv"> <a name="savedfilespot"></a>
        <div id="importsave">
          <p>Saved file: <input id="savedfiletextbox" cols="35" style="height:17px;"
              value=""
              type="file">
            <input onclick="importSavedFile(document.getElementById('savedfiletextbox').value)"
              value="Import Saved File"
              type="button"></p>
        </div>
      </div>
      
      
   
        
              
    <!--- TRANSOVERLAY -->
    <div id="transoverlay">
    	<!-- close button -->
    	<br><br><input type="button" value="Close" onclick="closeOverlay()" id="closeOverlayBtn">
    
        <!---  SEARCH AND REPLACE -->
      <div id="searchdiv" class="panel">
      <a name="searchspot"></a>
         	<div style="margin-left: auto; margin-right:auto;">
         	<table style="border-width:0">
         	<tr><td>
         		<textarea id="searcharea"></textarea></td><tr>
         	<tr><td>
         		<textarea id="replacearea"></textarea><input type="button" value="Search & Replace" onclick="replaceAll()">
         		<input type="checkbox" id="casesensitivecheck"><span class="wraptextfont">Case sensitive</span>
         		</td></tr></table>
         	</div>    
        </div>
      
      
      <!---  WRAP IN HTML -->
      <div id="wrapdiv" class="panel htmlwrapdiv">
      <a name="wrapspot"></a>
          <form id="wrapform">
            <p class="wraptextfont">Front: <textarea id="wrap1textarea" rows="1"
                cols="15">&lt;&gt;</textarea>
              Back: <textarea id="wrap2textarea" rows="1" cols="15">&lt;&gt;</textarea>
              <input onclick="clearWrap();" value="Clear" type="button"> <input
                onclick="closeTheHtml();"
                value="Close the HTML"
                type="button">
              <input onclick="insertWrap();" value="Insert" type="button"></p>
          </form>
        </div>
    
    
      <!---  TABLE CREATOR -->
      <div id="tablediv" class="panel" style="display:none"> <a name="tablespot"></a>
          <form id="tableform">
            <p class="wraptextfont">Rows: <textarea id="tablerowsid" rows="1" cols="3">5</textarea>
              Cols: <textarea id="tablecolsid" rows="1" cols="3">2</textarea> <input
                id="tablebordercheck"
                checked="checked"
                type="checkbox">
              border Width: <textarea id="tablewidthid" rows="1" cols="3">80</textarea>%
              bkgd color: <input id="tablecolorfield" size="10" value="" type="text">
              <input id="sample_1" size="1" value="" type="text"> <a href="#" onclick="showColorGrid2('tablecolorfield','sample_1');">
                Choose color</a></p>
            <div id="colorpicker201" class="colorpicker201"> </div>
            <input onclick="$('#transoverlay').fadeOut(300);createTable();" value="Create" type="button"> <br>
            <br>
          </form>
      </div>
      
      <!-- POST OPTIONS -->
      <a name="postdiv"></a>
      <div id="postdiv" class="panel tinylinks" style="display:none">
      	<div id="categoriesdiv"></div>	
      		
              <!-- SIMPLE TAG INPUT --> 
            <div>Tags:<textarea id="tagstringbox"></textarea></div> 
            <div>
            <input type="button" value="Post" onclick="postIt()">
            <input type="button" value="Postpone" onclick="$('#transoverlay').fadeOut(300)" >
            </div>
            <div>
            <input type="radio" name="postmode" value="post" checked> Publish 
            <input type="radio" name="postmode" value="draft"> Draft
            </div> 
            <div id="tagclouddiv">
          </div>
        </div>
        
      
        
       <!---  ADD EXPANSION  -->
      <div id="macroexpanddiv" style="display:none">
      <a name="macroexpandspot"></a>
       
          <p>Single word: <textarea id="macroexpandwordtxt" cols="10" rows="1"></textarea>
            Replacement: <textarea id="macroexpandreplacetxt" cols="30" rows="1"></textarea>
            &nbsp;<input id="macroexpandcheckbox" checked="checked" type="checkbox">Save
            it <input onclick="addMacroExpand();" value="Add macro expansion" type="button">
       
      </div>
      
      <!--HELP PANEL -->
      <div id="helpdiv" style="display:none">
      <a name="helpspot"></a>
       
          <table border ="0">
          <tr>
          	<td><p>^B</td>
          	<td><p>Bold</td>
          </tr>
           <tr>
          <tr>
          	<td><p>^F</td>
          	<td><p>Replace</td>
          </tr>
           <tr>
          	<td><p>^G</td>
          	<td><p>Google</td>
          </tr>
           <tr>
           <tr>
          	<td><p>^I</td>
          	<td><p>Italics</td>
          </tr>
           <tr>
          	<td><p>^K</td>
          	<td><p>Blockquote</td>
          </tr>
           <tr>
          	<td><p>^O</td>
          	<td><p>Blind Link</td>
          </tr>
           <tr>
          	<td><p>^N</td>
          	<td><p>Link</td>
          </tr>
 <tr>
          	<td><p>^P</td>
          	<td><p>&lt;P&gt;</td>
          </tr>
 <tr>
          	<td><p>^U</td>
          	<td><p>Underline</td>
          </tr>
 <tr>
          	<td><p>^S</td>
          	<td><p>Save</td>
          </tr>
		</table>
		       
      </div>
      
       <!-- IMAGE -->
      <div id="imagediv" class="panel imagediv" style="display:none;" > 
      <a name="imagespot"></a>
      	<div id="imagepreviewdiv" style="display:none">
      		<div onclick="$('#imagepreviewdiv').slideUp(300)" style="width:100%;background-color:red;color:white;text-align:center; border-radius: 8px">Close</div>
      		<div id="imagepreview"></div>
      	</div>
        <!--div id="imagesdiv"-->
          <div id="imagesform">
          <table style="border-width: 0;">
          <tr>
            <td><p>Server path</td><td><textarea id="imagepath" cols="70" rows="1">http://www.hyperorg.com/blogger/images/</textarea></td></tr>
            <tr>
              <td><p>Alt text</td><td><textarea id="alttext" cols="70" rows="1"></textarea></td></tr>
              <tr>
              <td><p>Caption</td><td><textarea id="captiontxt" cols="70" rows="1"></textarea></td></tr>
              <tr>
            <td><p>Link to</td><td><textarea id="imagelinktotxt" cols="70" rows="1"></textarea>
            </td></tr>
            <tr>
            <td><p>Desired width in pixels</td><td><textarea id="widthchange" cols="3" rows="1"></textarea> [Enter width <u>or</u> height]</td></tr>
              <tr>
              <td><p>Desired height in pixels</td><td> <textarea id="heightchange" cols="3" rows="1"></textarea></td></tr>
             </table>
              
                 <!--input onclick="resizeImage()" value="Resize a copy" type="button"--> 
            
            <!-- upload image via iframe that inserts doc on server -->
              
           <div> <iframe id="imageuploaderiframe" src="http://www.hyperorg.com/blogger/blogdraftpictureuploader.html"></iframe>
           </div>
        <!--input type="button" value="insert path" onclick="insertImagePath()" -->
         <input type="button" value="upload another?" onclick="$('#imageuploaderiframe').attr({'src' : 'http://www.hyperorg.com/blogger/blogdraftpictureuploader.html'})">      
        <input type="button" value="Verify img" onclick="verifyImage()">
         
         <br>       
            <input onclick="insertimage();" value="Insert image" type="button" style="font-size:32px">
            <input onclick="clearimage();" value="Clear" type="button"> 
        
            </div>
          
            
           <!-- 
 <form  enctype="multipart/form-data" action="http://hyperorg.com/blogger/php/TESTremote.php" method="POST">
            <input name="MAX_FILE_SIZE" value="100000000" type="hidden">
            <p>Choose a file to upload: <input name="uploadedfile" cols="70" type="file"></p>
            <input value="Upload the image" type="submit" onsubmit="return addImagePathToPage(f);> </form>
            
 -->
            
            
            
           <!-- 
 <p> Type "ftpit" to have Keyboard Maestro upload file selected in Finder to hyperorg.com/blogger/images</p>
            <textarea id="ftptrigger"></textarea>
            <input type="file" id="fileselector" name="files[]" multiple />
			<div><span id="imagefileuploading"></span> <span id="imagefilesize"> bytes </span>
            <input type="button" value="File uploaded?" onclick="doesFileExist()">
             
        </div>
 -->
      </div> 
      </div>
        <!-- transoverlay END-->
        
        </div> <!-- editareawrapper END -->
      
    
      <!---  PREFS -->
<!-- 
      <div id="prefsdiv" class="prefsdiv" style="display:none">
        <span id="presform">
        
          Auto save: <input value="false" id="autoexpandcheck" checked="checked"
            type="checkbox">
          Auto expansions: <input value="false" id="includetagscheck" checked="checked"
            type="checkbox">
          Include tags </span>
      </div>
 -->

 
      <!-- ----= TESTING ------->
      <div id="testarea"> </div>
    </div>
    
	<script type="text/javascript" src="prefs/blogdraft_preferences.js"></script>
  </body>
</html>
